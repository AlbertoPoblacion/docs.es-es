---
ms.openlocfilehash: f1f37e61917e8331b06d91e6abebfe4ce3288e7c
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 03/15/2020
ms.locfileid: "69564422"
---
### <a name="managed-cryptography-classes-do-not-throw-a-cryptographyexception-in-fips-mode"></a>Las clases de criptografía administradas no producen una excepción CryptographyException en el modo FIPS

|   |   |
|---|---|
|Detalles|En NET Framework 4.7.2 y versiones anteriores, las clases del proveedor de servicios criptográficos administrados, como <xref:System.Security.Cryptography.SHA256Managed>, producen una excepción <xref:System.Security.Cryptography.CryptographicException> cuando las bibliotecas criptográficas del sistema están configuradas en modo FIPS. Estas excepciones se producen porque las versiones administradas no han sometido al FIPS (Estándar federal de procesamiento de información) según la certificación 140-2, así como para bloquear los algoritmos criptográficos que no se consideran aprobados según las reglas FIPS.  Dado que pocos desarrolladores tienen sus equipos de desarrollo en el modo FIPS, estas excepciones se producen con frecuencia solo en sistemas de producción. Las aplicaciones que tienen como destino .NET Framework 4.8 y versiones posteriores cambian automáticamente a la directiva más reciente y menos estricta, para que ya no se produzca de forma predeterminada <xref:System.Security.Cryptography.CryptographicException> en estos casos. En su lugar, las clases de criptografía administradas redirigen las operaciones criptográficas a una biblioteca de criptografía del sistema. Este cambio de directiva elimina eficazmente una diferencia potencialmente confusa entre entornos de desarrollo y entornos de producción, y permite que componentes nativos y componentes administrados funcionen bajo la misma directiva criptográfica.|
|Sugerencia|Si no desea este comportamiento, puede dejar de participar en él y restaurar el comportamiento anterior hasta que se produzca <xref:System.Security.Cryptography.CryptographicException> en el modo FIPS agregando la opción de configuración [AppContextSwitchOverrides](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) a la sección [\<runtime>](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) del archivo de configuración de la aplicación:<pre><code class="lang-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Security.Cryptography.UseLegacyFipsThrow=true&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre>Si la aplicación tiene como destino .NET Framework 4.7.2 o versiones anteriores, se puede también participar en este cambio agregando la opción de configuración [AppContextSwitchOverrides](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) a la sección [\<runtime>](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) del archivo de configuración de la aplicación:<pre><code class="lang-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Security.Cryptography.UseLegacyFipsThrow=false&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre>|
|Ámbito|Borde|
|Versión|4.8|
|Tipo|Redestinación|
|API afectadas|<ul><li><xref:System.Security.Cryptography.AesManaged?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.MD5Cng?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.MD5CryptoServiceProvider?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.RC2CryptoServiceProvider?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.RijndaelManaged?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.RIPEMD160Managed?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.SHA1Managed?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.SHA256Managed?displayProperty=nameWithType></li></ul>|
